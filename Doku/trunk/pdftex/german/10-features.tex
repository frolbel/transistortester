%\newpage
\chapter{Eigenschaften}
\label{sec:features}
\begin{enumerate}
\item Arbeitet mit Mikrocontrollern vom Typ ATmega8, ATmega168 oder ATmega328. Auch ATmega644 und ATmega1284 oder ATmega1280 und ATmega2560 können verwendet werden.
\item Anzeige der Messergebnisse auf einem 2x16 oder 4x20 Zeichen großen LC-Display.
 Alternativ kann bei Verwendung eines Prozessors mit mindestens 32K Flash Speicher auch ein graphisches Display
 mit 128x64 Pixel und ST7565-, ST7920, ST7108, KS0108 oder SSD1306-Controller benutzt werden.
 Dabei wird anstelle der Standard 4-Bit Parallel-Schnittstelle
 auch entweder eine 4-Wire SPI-Schnittstelle oder ein I\textsuperscript{2}C-Bus benutzt.
 Sogar Farbdisplays mit ILI9163 oder ST7735 Controller sind mit der SPI-Schnittstelle anschliessbar.
 Für den ST7108 oder KS0108 Controller ist ein seriell-parallel Wandler 74HC(T)164 oder 74HC(T)595 erforderlich,
 da diese Controller nur den 8-Bit parallel Anschluß erlauben.
 Displays mit PCF8812 oder PCF8814 Controller können ohne die großen Transistor-Symbole benutzt werden, da
die Displaygröße unzureichend ist (102x65 und 96x65).
\item Ein-Tasten-Bedienung mit automatischer Abschaltfunktion.
\item Batterie-Betrieb ist möglich, weil der Strom im abgeschalteten Zustand nur etwa 20nA beträgt.
Ab Softwareversion 1.05k wird nach Möglichkeit in den Messpausen der Schlafzustand des ATmega zum Stromsparen benutzt, wenn kein Impulsdrehgeber benutzt wird.
\item Preisgünstige Lösung ist möglich ohne Quarz und ohne automatische Abschaltung.
\item Automatische Erkennung von NPN und PNP bipolaren Transistoren, N- und P-Channel MOSFETs, JFETs,
Dioden, Doppeldioden, N- und P-IGBTs, Thyristoren und Triacs.
Für Thyristoren und Triacs müssen die Zünd- und Halteströme für die richtige Erkennung erreicht werden können.
Bei IGBTs muß die Gate Schwellwertspannung unter \(5V\) liegen.
\item Darstellung der Pin-Belegung der erkannten Bauteile.
\item Messung des Stromverstärkungsfaktors und der Basis-Emitter-Schwellspannung für bipolare Transistoren.
\item Darlington-Transistoren können durch die höhere Schwellspannung und durch den hohen Stromverstärkungsfaktor erkannt werden.
\item Automatische Erkennung einer Schutzdiode bei bipolaren Transistoren und bei MOSFETs.
\item Messung der Schwellwert-Spannung, der Gate-Kapazität  und des R\textsubscript{DSon} bei einer Gatespannung von knapp \(5V\) von MOSFETs.
\item Bis zu zwei Widerstände werden gemessen und mit den \mbox{\electricR} Symbolen
und den Widerstands-Werten mit bis zu vier Dezimalstellen in der richtigen Dimension angezeigt.
Alle Symbole werden eingerahmt mit den gefundenen Testpin Nummern des Testers (1-3).
Deshalb können auch Potentiometer gemessen werden. Wenn der Schleifer eines Potentiometers auf eine Endposition
gestellt ist, kann der Tester nicht mehr zwischen mittlerem Anschluss und Endanschluss unterscheiden.
\item Die Auflösung der Widerstandsmessung ist jetzt bis zu \(0,01\Omega\), Werte von bis zu \(50M\Omega\) werden erkannt.
\item Ein Kondensator kann erkannt und gemessen werden. Der wird mit dem Symbol \mbox{\electricC}
und dem Kapazitätswert mit bis zu vier Dezimalstellen in der richtigen Dimension angezeigt.
Der Wert kann zwischen \(25pF\) (bei \(8MHz\) Takt, \(50pF\) bei \(1MHz\) Takt) bis \(100mF\) liegen. Die Auflösung kann bis zu \(1pF\) (bei \(8MHz\) Takt) betragen.
\item Bei Kondensatoren mit einer Kapazität über \(20nF\) wird zusätzlich der äquivalente Serienwiderstand (ESR) des Kondensators
mit einer Auflösung von \(0,01\Omega\) gemessen und mit zwei Dezimalstellen angezeigt.
Diese Fähigkeit steht nur zur Verfügung, wenn der ATmega mindestens 16K Flashspeicher besitzt.
\item Für Kondensatoren mit einem Kapazitätswert über \(5000pF\) kann der Spannungsverlust Vloss nach einem Ladepuls bestimmt werden.
Der Spannungsverlust gibt einen Hinweis auf die Güte des Kondensators.
\item Bis zu zwei Dioden werden mit dem Symbol \mbox{\electricDAK} oder dem Symbol \mbox{\electricDKA}
in der richtigen Reihenfolge angezeigt.
Zusätzlich werden die Schwellspannungen angezeigt.
\item Eine LED wird als Diode erkannt, die Schwellspannung ist viel höher als bei einer normalen Diode.
Doppeldioden werden als zwei Dioden erkannt.
\item Zener-Dioden können erkannt werden, wenn die Zener-Spannung unter \(4,5V\) ist.
Sie werden als zwei Dioden angezeigt, man kann das Bauelement nur mit den Spannungen erkennen.
Die äußeren Testpin-Nummern, welche die Dioden Symbole umgeben, sind in diesem Fall identisch.
Man kann die wirkliche Anode der Diode nur durch diejenige Diode herausfinden, deren Schwellwert-Spannung nahe bei \(700mV\) liegt!
\item Wenn mehr als 3 Dioden erkannt werden, wird die gefundene Anzahl der Dioden zusammen mit der Fehlermeldung angezeigt.
Das kann nur passieren, wenn Dioden an alle drei Test-Pins angeschlossen sind und wenigstens eine eine Zener-Diode ist.
In diesem Fall sollte man nur zwei Test-Pins anschließen und die Messung erneut starten, eine Diode nach der anderen.
\item Der Kapazitätswert einer einzelnen Diode in Sperr-Richtung wird automatisch ermittelt.
Bipolare Transistoren können auch untersucht werden, wenn nur die Basis und entweder Kollektor oder Emitter angeschlossen wird.
Bei ATmega mit mehr als 8k Flash Speicher wird außerdem der Sperrstrom mit einer Auflösung von \(2nA\) gemessen.
Der Wert wird nur ausgegeben, wenn er nicht null ist.
\item Die Anschlüsse einer Gleichrichter-Brücke können mit nur einer Messung herausgefunden werden.
\item Kondensatoren mit Kapazitätswerten von unter \(25pF\) werden normalerweise nicht erkannt, 
aber sie können zusammen mit einer parallel geschalteten Diode oder mit einem parallel geschaltetem Kondensator mit
wenigstens \(25pF\) gemessen werden.
In diesem Fall muss der Kapazitätswert des parallel geschalteten Bauteils vom Messergebnis abgezogen werden.
Bei Prozessoren mit mindestens 32K Flash Speicher wechselt der Tester mit einem Kondensator \textgreater~\(25pF\)
an TP1 und TP3 in eine Kondensator-Meßfunktion, die auch Kapazitäten ab \(1pF\) direkt mißt.
\item Bei Widerständen unter \(2100\Omega\) wird auch eine Induktivitätsmessung durchgeführt, wenn der
ATmega wenigstens 16K Flashspeicher besitzt.
Dabei wird zusätzlich zum Widerstands-Symbol \mbox{\electricR} ein Induktivitäts Symbol \mbox{\electricL} angezeigt.

Der Anzeigebereich ist etwa \(0,01mH\) bis über \(20H\), die Genauigkeit ist allerdings nicht hoch.
Das Ergebnis wird nur bei einem Einzelwiderstand zusammen mit dem Widerstandswert angezeigt.
\item Die Messzeit beträgt ungefähr zwei Sekunden, nur Kapazitätsmessungen und Induktivitätsmessungen können länger dauern.
\item Die Software kann für Messserien mit vorgebbarer Wiederhol-Zahl konfiguriert werden, bevor die automatische Abschaltung ausschaltet.
\item Eingebaute Selbsttest-Funktion inklusive einem optionalen \(50Hz\) Frequenz-Generator um die Genauigkeit der Taktfrequenz
und der Verzögerungszeiten zu überprüfen (nur mit mindestens 16K Flash Speicher).
\item Wählbare Möglichkeit den Nullabgleich für die Kondensatormessung und die Innenwiderstände für die
Portausgänge beim Selbsttest automatisch zu bestimmen (nur mit mindestens 16K Flash Speicher).
Ein externer Kondensator mit einer Kapazität zwischen \(100nF\) und \(20\mu F\) an Pin~1 und Pin~3 ist notwendig, 
um die Offset-Spannung des analogen Komparators zu kompensieren.
Dies kann den Messfehler bei Kapazitätsmessungen bis zu \(40\mu F\) reduzieren.
Mit dem gleichen Kondensator wird eine Korrekturspannung zum Einstellen der richtigen Verstärkung für
die ADC Messung mit der internen \(1,1V\) Referenzspannung berechnet.
\item Anzeige des Kollektor-Emitter-Reststroms \(I_{CE0}\) mit stromloser Basis (\(1\mu A\) Auflösung) und
des Kollektor-Emitter Reststroms \(I_{CES}\) mit der Basis auf Emitter-Potential gehalten (nur bei mindestens 16K Flash).
Diese Werte werden nur angezeigt, wenn sie nicht Null sind (besonders für Germanium-Transistoren).
\item Für ATmega mit mindestens 32K Flash-Speicher wechselt der Tester vom Multifunktionstest zu einem Modus als
Widerstands-Meßgerät, wenn bei der automatischen Bauteile-Erkennung nur ein Widerstand an Test Pin 1 (TP1) und
Test Pin 3 (TP3) erkannt wird. Wenn in der Makefile auch die Induktivitätsmessung beim Widerstandsmeßgerät
mit der Option RMETER\_WITH\_L gewünscht wurde, werden bei der Widerstandsmessung auch Induktivitäten gemessen.
Der Betriebsmodus wird durch {\bf[R]} oder {\bf[RL]} auf der rechten Seite von Zeile 1 des Displays angezeigt.
Genau so wechselt der Tester zu einem Kapazitätsmeßgerät, wenn bei der Bauteile-Untersuchung
eine Kondensator an TP1 und TP3 erkannt wurde. Dieser Betriebsmodus wird durch {\bf[C]} auf der rechten Seite der Zeile 1 angezeigt.
In dieser Betriebsart können Kondensatoren ab \(1pF\) gemessen werden. Lediglich für den automatischen Start der Funktion
braucht man einen Kondensator mit mehr als \(25pF\).
Beide Sonderfunktionen können durch einen Tastendruck wieder beendet werden. Der Tester fährt dann mit der normalen
Meßfunktion fort.
\item Für Prozessoren mit mindestens 32K Flash kann eine Dialogfunktion gewählt werden, 
die weitere Einsatzmöglichkeiten zugänglich machen kann.
Natürlich kann über den Dialog auch zu der Transistortester-Funktion zurückgekehrt werden.
\item Mit Dialogfunktion kann am PD4-Port des ATmega eine Frequenzmessung vorgenommen werden.
Die Auflösung beträgt bei Eingangfrequenzen über \(25kHz\) ein Hertz.
Bei niedrigeren Frequenzen kann die Auflösung bis zu \(0,001mHz\) betragen.
Lesen Sie bitte das Unterkapitel \ref{sec:frequency_counter} auf Seite \pageref{sec:frequency_counter},
wie ein Frequenzsignal angeschlossen werden muß.
\item Mit Dialogfunktion und ohne serielle Ausgabe kann eine externe Spannung bis \(50V\) über einen
10:1 Spannungteiler am PC3 Pin gemessen werden. Bei der PLCC-Version des ATmega328 kann auch einer der beiden
zusätzlichen Pinne für die Spannungsmessung zusammen mit der seriellen Ausgabe benutzt werden.
Wenn die Erweiterung für die Zenerdiodenmessung (DC-DC-Konverter)
eingebaut ist, können in diesen Zweig auch Zenerdioden bei gedrückter Taste getestet werden.
\item Mit Dialogfunktion kann eine Frequenzausgabe auf dem TP2-Pin (PB2-Port des ATmega) erfolgen.
Derzeit können von Frequenzen von \(1Hz\) bis \(2MHz\) eingestellt werden.
\item Mit Dialogfunktion kann eine feste Frequenz mit einstellbarer Pulsweite auf dem TP2-Pin (PB2-Port des ATmega)
ausgegeben werden.
Die Breite kann mit kurzem Tastendruck um \(1\%\) und mit längerem Tastendruck um \(10\%\) erhöht werden.
\item Mit der Dialogfunktion kann eine spezielle Kondensatormessung mit ESR-Messung gestartet werden.
Die Funktion wird bei der Auswahl \mbox{C+ESR@TP1:TP3} genannt.
 Kapazitäten ab etwa \(2\mu F\) bis zu \(50mF\) können meistens wegen der geringen Messspannung von etwa \(300mV\)
 im eingebauten Zustand gemessen werden.
\item Bei Prozessoren mit mindestens 32K Flash-Speicher (Mega328) kann der ADC mit der Sampling-Methode so genutzt werden,
daß Kondensatoren unter 100pF mit einer Auflösung von 0.01pF gemessen werden können. Mit der gleichen Methode können
auch Spulen unter 2mH mit deutlich besserer Auflösung über die Resonanzfrequenz mit einem parallelgeschalteten Kondensator 
bekannter Größe bestimmt werden.

\end{enumerate}

 Bei Einsatz des Testers für die Prüfung von Kondensatoren in einer Schaltung sollte besonders darauf geachtet werden,
 dass die Kondensatoren vor der Messung keine Restladung mehr haben.


Thyristoren und Triacs können nur erkannt werden, wenn der Test-Strom über dem Halte-Strom liegt.
Einige Thyristoren und Triacs brauchen auch einen höheren Zündstrom als dieser Tester liefern kann.
Der verfügbare Teststrom ist nur ungefähr \(6mA\)!
Ebenso können IGBTs nur erkannt werden, wenn eine Spannung von \(5V\) für die Gate-Ansteuerung reicht.
Beachten Sie bitte, dass viele Möglichkeiten nur für Mikrocontroller mit wenigstens 16K Programmspeicher wie ATmega168 zur Verfügung stehen. 
Alle Eigenschaften sind sogar nur für Prozessoren mit wenigstens 32K Programmspeicher wie ATmega328 oder ATmega1284 möglich.

\vspace{1cm}
\textbf{{\Large Achtung:}} Stellen Sie immer sicher, dass {\bf Kondensatoren} vor dem Anschluss an den Tester {\bf entladen} sind!
Der Tester könnte sonst beschädigt werden bevor er eingeschaltet ist.
Es gibt nur wenig Schutzfunktion der ATmega-Anschlüsse.
Besondere Vorsicht ist auch geboten, wenn versucht wird, Bauelemente in einer Schaltung zu messen.
Das Gerät sollte in jedem Fall vorher von der Strom\-ein\-spei\-sung getrennt sein und man sollte sicher sein,
dass {\bf keine Restspannung} im Gerät vorhanden ist.


